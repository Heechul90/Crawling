html_nodes('li') -> lis
###.
base_url <- 'http://www.hanbit.co.kr/academy/books/category_list.html?page=1&cate_cd=004007&srt=p_pub_date'
html <- read.html(base_url)
library(rvest)
###.
base_url <- 'http://www.hanbit.co.kr/academy/books/category_list.html?'
html <- read.html(base_url)
###.
base_url <- 'http://www.hanbit.co.kr/academy/books/category_list.html?cate_cd=004007'
html <- read_html(base_url)
html
## rvest의 동작순서서(text가져오기)
# 1) html 문서 데이터 가져오기
# 2) 필요한 노드 선택하기
# 3) 노드내에 text를 가져오기
lis <- read_html(base_url) %>%
html_nodes('.sub_book_list_area') %>%
html_nodes('li')
lis
for(li in lis){
pr <- html_text(li, '.price') %>% html_text()
pr <- gsub('\\\\','', price)
price <- c(price, pr)
title <- c(title, html_nodes(li, '.book_tit') %>% html_text())
writer <- c(writer, html_nodes(li, '.book_writer') %>% html_text())
print(price)
}
###.
base_url <- 'http://www.hanbit.co.kr/academy/books/category_list.html?page=1&cate_cd=004007&srt=p_pub_date'
html <- read_html(base_url)
html
book_list <- html_node(html, '.sub_book_list_area')
book_list
lis <- html_nodes(book_list, 'li')
lis
lis <- read_html(base_url) %>%
html_nodes('.sub_book_list') %>%
html_nodes('li')
lis
lis <- read_html(base_url) %>%
html_nodes('.sub_book_list_area') %>%
html_nodes('li')
lis
for(li in lis) {
price <- html_text(li, '.price')
print(price)
}
print(price)
for(li in lis) {
price <- html_text(li, '.price') %>% html_text()
print(price)
}
for(li in lis) {
price <- html_text(li, '.price') %>% html_text()
print(price)
}
price <- html_text(li, '.price')
for(li in lis) {
price <- html_text(li, '.price')
print(price)
}
print(price)
price <- gsub('\\\\', '', price)
for(li in lis) {
price <- html_text(li, '.price')
price <- gsub('\\\\', '', price)
print(price)
}
for(li in lis) {
price <- html_text(li, '.price') %>% html_text()
price <- gsub('\\\\', '', price)
print(price)
}
## rvest의 동작순서서(text가져오기)
# 1) html 문서 데이터 가져오기
# 2) 필요한 노드 선택하기
# 3) 노드내에 text를 가져오기
lis <- read_html(base_url) %>%
html_nodes('.sub_book_list_area') %>%
html_nodes('li') %>%
html_text()
lis
## rvest의 동작순서서(text가져오기)
# 1) html 문서 데이터 가져오기
# 2) 필요한 노드 선택하기
# 3) 노드내에 text를 가져오기
lis <- read_html(base_url) %>%
html_nodes('.sub_book_list_area') %>%
html_nodes('li') %>%
html_text() %>%
data.frame()
lis
price <- gsub('\\\\', '', price)
for(li in lis) {
price <- html_text(li, '.price')
price <- gsub('\\\\', '', price)
print(price)
}
install.packages("openxlsx")
library(xlsx)
install.packages('xlsx')
library(xlsx)
trim <- function (x) gsub("^\\s+|\\s+$", "", x)
url_base <- 'https://movie.naver.com/movie/bi/mi/point.nhn?code=163788#tab'
url <- paste(url_base,encoding="euc-kr",sep='')
html <- read_html(url)
head(html)
html
html1 <- html_nodes(html, '.obj_section')
html2 <- html_nodes(html1, '.score_result')
html2
lis <- html_nodes(html2, 'li')
lis
score <- c()
reple <- c()
company <- c()
name <- c()
for (li in lis) {
star_score <- html_node(li, '.star_score')
score <- c(score, trim(html_text(star_score, 'em')))
score_reple <- html_node(li, '.score_reple')
reps <- trim(html_text(score_reple, 'p'))
reps <- str_split(reps, "\r\n")
for (rep in reps) {
reple <- c(reple, trim(rep[1]))
company <- c(company, trim(rep[2]))
name <- c(name, str_sub(trim(rep[4]), 3, -1))
}
}
review = data.frame(score=score, reple=reple, company=company, name=name)
review
str(review)
setwd('D:/Heechul/Crawling')
###. 필요 패키지
library(curl)
library(httr)
library(rvest)
library(RSelenium)
library(dplyr)
library(stringr)
trim <- function (x) gsub("^\\s+|\\s+$", "", x)
# 링크 가져와서 찾아가기
url <- 'https://news.naver.com/main/ranking/popularDay.nhn?rankingType=age&subType=20'
html <- read_html(url)
news_list <- read_html(url) %>%
html_nodes('.ranking') %>%
html_nodes('li')
news_list
View(news_list)
title <- c()
for(li in news_list) {
headline <- html_node(li, '.ranking_headline')
title <- c(title, trim(html_text(ranking_headline, 'em')))
}
for(li in news_list) {
headline <- html_node(li, '.ranking_headline')
title <- c(title, trim(html_text(ranking_headline)))
}
for(li in news_list) {
headline <- html_node(li, '.ranking_headline')
}
for(li in news_list) {
headline <- html_node(li, '.ranking_headline')
print(headline)
}
for(li in news_list) {
headline <- html_nodes(li, '.ranking_headline')
print(headline)
}
for(li in news_list) {
headline <- html_nodes(li, '.ranking_headline')
title <- c(title, trim(html_text(ranking_headline)))
}
for(li in news_list) {
headline <- html_nodes(li, '.ranking_headline')
title <- c(title, trim(html_text(headline, 'em')))
}
title
str(title)
title
total <- c()
count <- c()
for(li in news_list) {
headline <- html_nodes(li, '.ranking_headline')
title <- c(title, trim(html_text(headline, 'em')))
count <- html_nodes(li, '.ranking_view')
}
count
count <- c(count, trim(html_text(viewcount)))
count <- c(count, trim(html_text(viewcount, 'p')))
for(li in news_list) {
headline <- html_nodes(li, '.ranking_headline')
title <- c(title, trim(html_text(headline, 'em')))
viewcount <- html_nodes(li, '.ranking_view')
count <- c(count, trim(html_text(viewcount, 'p')))
}
count
headline <- c()
view <- c()
headline <- c()
view <- c()
for(li in news_list) {
headline <- html_nodes(li, '.ranking_headline')
headline <- c(headline, trim(html_text(headline, 'em')))
view <- html_nodes(li, '.ranking_view')
view <- c(view, trim(html_text(view, 'p')))
}
headline
view
headline <- c()
view <- c()
for(li in news_list) {
ranking_headline <- html_nodes(li, '.ranking_headline')
headline <- c(headline, trim(html_text(ranking_headline, 'em')))
ranking_view <- html_nodes(li, '.ranking_view')
view <- c(view, trim(html_text(ranking_view, 'p')))
}
headline
view
ranking <- data.frame(headline = headline, view = view )
ranking
for(li in news_list) {
ranking_headline <- html_nodes(li, '.ranking_headline')
headline <- c(headline, trim(html_text(ranking_headline, 'em')))
ranking_view <- html_nodes(li, '.ranking_view')
view <- c(view, trim(html_text(ranking_view, 'em')))
}
headline
view
for(li in news_list) {
ranking_headline <- html_nodes(li, '.ranking_headline')
headline <- c(headline, trim(html_text(ranking_headline, 'em')))
ranking_view <- html_nodes(li, '.ranking_view')
view <- c(view, trim(html_text(ranking_view, 'p')))
}
headline
view
headline
view
ranking <- data.frame(headline = headline, view = view )
ranking
headline <- c()
view <- c()
for(li in news_list) {
ranking_headline <- html_nodes(li, '.ranking_headline')
headline <- c(headline, trim(html_text(ranking_headline, 'em')))
ranking_view <- html_nodes(li, '.ranking_view')
view <- c(view, trim(html_text(ranking_view, 'p')))
}
headline
view
headline <- c()
view <- c()
for(li in news_list) {
ranking_headline <- html_nodes(li, '.ranking_headline')
headline <- c(headline, trim(html_text(ranking_headline, 'em')))
ranking_view <- html_nodes(li, '.ranking_view')
view <- c(view, trim(html_text(ranking_view, 'em')))
}
headline
view
ranking <- data.frame(headline = headline, view = view )
ranking
# 링크 가져와서 찾아가기
url <- 'http://browse.auction.co.kr/list?category=45110000'
list <- read_html(url) %>%
html_nodes('.section--inner_content_body_container') %>%
html_nodes('.section--module_wrap') %>%
html_nodes('.area--itemcard_title')
list
list <- read_html(url) %>%
html_nodes('.section--inner_content_body_container') %>%
html_nodes('.section--module_wrap')
list
title <- c()
list
title <- c()
title <- c(title, trim(html_text(text_title, 'em')))
list <- read_html(url) %>%
html_nodes('.text--itemcard_title') %>%
html_nodes('text--title')
list
list <- read_html(url) %>%
html_nodes('.text--itemcard_title') %>%
html_nodes('.text--title') %>%
html_text()
list
list <- read_html(url) %>%
html_nodes('.text--itemcard_title') %>%
html_nodes('.text--title') %>%
html_text()
list
list <- read_html(url) %>%
html_nodes('.text--module_title') %>%
html_nodes('.text--title') %>%
html_text()
list
list
# 링크 가져와서 찾아가기
url <- 'http://browse.auction.co.kr/list?category=45110000&f=b:31509'
html <- read_html(url)
list <- read_html(url) %>%
html_nodes('.section--inner_content_body_container') %>%
html_text()
list
list <- read_html(url) %>%
html_nodes('.section--inner_content_body_container')
title <- c()
list <- read_html(url) %>%
html_nodes('.section--inner_content_body_container') %>%
html_text()
list
list <- read_html(url) %>%
html_nodes('.section--inner_content_body_container') %>%
html_nodes('.text--title')
html_text()
list
html_text()
list
# 링크 가져와서 찾아가기
url <- 'http://browse.auction.co.kr/list?category'
html_text()
# 링크 가져와서 찾아가기
url <- 'http://browse.auction.co.kr/list?category=45110000&t=a'
html <- read_html(url)
list <- read_html(url) %>%
html_nodes('.text--itemcard_title') %>%
html_nodes('.text--title')
list <- read_html(url) %>%
html_nodes('.text--itemcard_title') %>%
html_nodes('.text--title') %>%
html_text()
list
list <- read_html(url) %>%
html_nodes('.text--itemcard_title')
li
li <- read_html(url) %>%
html_nodes('.text--itemcard_title')
li
title <- c()
lis <- read_html(url) %>%
html_nodes('.text--itemcard_title')
lis
title <- c()
for(i in lis) {
text_title <- html_nodes(liss, '.text--title')
title <- c(title, trim(html_text(text_title, 'em')))
}
for(i in 1:10) {
text_title <- html_nodes(liss, '.text--title')
title <- c(title, trim(html_text(text_title, 'em')))
}
for(i in 1:10) {
text_title <- html_nodes(lis, '.text--title')
title <- c(title, trim(html_text(text_title, 'em')))
}
title
# 링크 가져와서 찾아가기
url <- 'https://search.shopping.naver.com/search/category.nhn?cat_id=50006349'
html <- read_html(url)
list <- read_html(url) %>%
html_nodes('.search_list basis') %>%
html_nodes('li')
list
title <- c()
title <- c(title, trim(html_text(text_title, 'em')))
for(li in list) {
text_title <- html_nodes(list, '.title')
title <- c(title, trim(html_text(text_title, 'em')))
}
title
list <- read_html(url) %>%
html_nodes('.search_list basis') %>%
html_nodes('li')
list
title <- c()
for(li in list) {
text_title <- html_nodes(list, '.title')
title <- c(title, trim(html_text(text_title, 'em')))
}
title
title <- c()
for(li in list) {
info <- html_nodes(list, '.info')
title <- c(title, trim(html_text(info, 'em')))
}
title
title <- c()
for(li in list) {
tit <- html_nodes(list, '.tit')
title <- c(title, trim(html_text(tit, 'em')))
}
title
# 링크 가져와서 찾아가기
url <- 'https://search.shopping.naver.com/search/category.nhn?cat_id=50006349'
html <- read_html(url)
# 링크 가져와서 찾아가기
url <- 'https://shopping.naver.com/foreign/category/10001268'
html <- read_html(url)
list <- html %>%
html_nodes('._1aNmedx3I0') %>%
html_nodes('li')
list
title <- c()
for(li in list) {
text_title <- html_nodes(list, '.e1bUyeKcqU')
title <- c(title, trim(html_text(text_title, 'em')))
}
title
list <- html %>%
html_nodes('._1aNmedx3I0') %>%
html_nodes('.li') %>%
html_nodes('.e1bUyeKcqU') %>%
html_text()
list
list <- html %>%
html_nodes('._1aNmedx3I0') %>%
html_nodes('.e1bUyeKcqU') %>%
html_text()
list
list <- html %>%
html_nodes('._1aNmedx3I0') %>%
html_nodes('.e1bUyeKcqU') %>%
html_text()
list
list <- html %>%
html_nodes('._1aNmedx3I0') %>%
html_nodes('li')
list
for(li in list) {
text_title <- html_nodes(list, '._2yFdmfTRB1')
title <- c(title, trim(html_text(text_title, 'em')))
}
title <- c()
for(li in list) {
text_title <- html_nodes(list, '._2yFdmfTRB1')
title <- c(title, trim(html_text(text_title, 'em')))
}
title
# 링크 가져와서 찾아가기
url <- 'https://shopping.naver.com/foreign/category/10001268'
html <- read_html(url)
list <- html %>%
html_nodes('._2Aa0HOdzWw') %>%
html_nodes('._1aNmedx3I0') %>%
html_nodes('li')
list
list
title <- c()
for(li in list) {
text_title <- html_nodes(list, '._2yFdmfTRB1')
title <- c(title, trim(html_text(text_title, 'em')))
}
title
# 링크 가져와서 찾아가기
url <- 'https://news.naver.com/main/ranking/popularDay.nhn?rankingType=age&subType=20'
html <- read_html(url)
news_list <- read_html(url) %>%
html_nodes('.ranking') %>%
html_nodes('li')
news_list
headline <- c()
view <- c()
for(li in news_list) {
ranking_headline <- html_nodes(li, '.ranking_headline')
headline <- c(headline, trim(html_text(ranking_headline, 'em')))
ranking_view <- html_nodes(li, '.ranking_view')
view <- c(view, trim(html_text(ranking_view, 'em')))
}
headline
# 링크 가져와서 찾아가기
url <- 'https://shopping.naver.com/foreign/category/10001268'
html <- read_html(url)
list <- html %>%
html_nodes('._2Aa0HOdzWw') %>%
html_nodes('._1aNmedx3I0') %>%
html_nodes('li')
list
# 링크 가져와서 찾아가기
url <- 'https://shopping.naver.com/foreign/category/10001268'
html <- read_html(url)
html <- read_html(url)
list <- html %>%
html_nodes('._2Aa0HOdzWw', '._1aNmedx3I0') %>%
html_nodes('li')
list <- html %>%
html_nodes('._1aNmedx3I0') %>%
html_nodes('li')
list
list <- html %>%
html_nodes('._2Aa0HOdzWw') %>%
html_nodes('li')
list
list <- html %>%
html_nodes('._2Aa0HOdzWw') %>%
html_nodes('li')
list <- html %>%
html_nodes('._2Aa0HOdzWw') %>%
html_nodes('._1aNmedx3I0') %>%
html_nodes('li')
list
list <- html %>%
html_nodes('._2Aa0HOdzWw') %>%
html_nodes('li')
list
title <- c()
for(li in list) {
text_title <- html_nodes(list, '._2yFdmfTRB1')
title <- c(title, trim(html_text(text_title, 'em')))
}
title
